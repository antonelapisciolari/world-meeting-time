(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),l=e.i(71645);function a(){let[e,a]=(0,l.useState)({}),[r,s]=(0,l.useState)(""),[n,o]=(0,l.useState)([]),[i,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(null),[m,x]=(0,l.useState)(!1),[b,h]=(0,l.useState)(null),f=(0,l.useRef)(null);(0,l.useEffect)(()=>{document.title="ðŸŒ World Meeting Time â€“ CoordinÃ¡ horarios internacionales"},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("https://api.timezonedb.com/v2.1/list-time-zone?key=OCABQ5F4LZBF&format=json"),t=await e.json();f.current=t.zones;let l={};t.zones.forEach(e=>{let[t]=e.zoneName.split("/");l[t]||(l[t]=[]),l[t].push(e.zoneName)}),Object.keys(l).forEach(e=>l[e].sort((e,t)=>e.localeCompare(t))),a(l)}catch(e){console.error(e)}})()},[]);let g=e=>{let t=(f.current||[]).find(t=>t.zoneName.toLowerCase().includes(e.toLowerCase()));return t?{name:e.split("/")[1]||e,offset:t.gmtOffset,zone:t.zoneName}:null},p=async()=>{if(!r){h("Debes seleccionar una ciudad principal."),u(null);return}h(null),u(null),x(!0);try{let e=g(r);if(!e){h("Please select a valid city."),x(!1);return}let t=n.filter(e=>e!==r).map(e=>g(e)).filter(e=>null!==e);if(0===t.length){h("Please add at least one other city."),x(!1);return}let l=((e,t)=>{let l=[e,...t],a=l.map(e=>({city:e.name,startUTC:28800-e.offset,endUTC:64800-e.offset})),r=Math.max(...a.map(e=>e.startUTC)),s=Math.min(...a.map(e=>e.endUTC));if(r>=s)return null;let n=e=>`${Math.floor(e).toString().padStart(2,"0")}:00`;return l.map(e=>{let t=((r+e.offset)/3600+24)%24,l=((s+e.offset)/3600+24)%24;return{city:e.name,start:n(t),end:n(l)}})})(e,t);if(!l){h("No overlap in working hours (08â€“18)."),x(!1);return}u(l)}catch(e){console.error(e),h("Error calculating overlap.")}finally{x(!1)}},y=e=>{e&&!n.includes(e)&&o(t=>[...t,e])},j=i&&e[i]||[];return(0,l.useEffect)(()=>{r&&0!==n.length||u(null)},[r,n]),(0,t.jsxs)("main",{className:"flex flex-col items-center min-h-screen p-8 bg-gray-50 text-gray-800",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"ðŸŒ Meeting Time Finder"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6 text-center max-w-md",children:"Find overlapping working hours between cities (08:00â€“18:00)"}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:["Madrid","New York","Buenos Aires","SÃ£o Paulo","Tokyo","London","Sydney","Paris"].map(e=>(0,t.jsx)("button",{onClick:()=>{let t=(f.current||[]).find(t=>t.zoneName.toLowerCase().includes(e.toLowerCase().replace(/\s+/g,"_")));t?(s(t.zoneName),n.includes(t.zoneName)||y(t.zoneName)):h(`No se encontr\xf3 la zona horaria para ${e}`)},className:"px-3 py-1 bg-white border border-gray-300 rounded-full text-sm text-gray-800 hover:bg-blue-50 hover:border-blue-400 transition-colors",children:e},e))}),(0,t.jsxs)("div",{className:"w-full max-w-md mb-4",children:[(0,t.jsx)("label",{className:"block mb-1 font-medium text-gray-700",children:"Your city:"}),(0,t.jsxs)("select",{value:r,onChange:e=>{let t=e.target.value;s(t),t&&!n.includes(t)&&y(t)},className:"w-full p-2 border border-gray-300 rounded bg-white text-gray-800 max-h-60 overflow-y-auto",children:[(0,t.jsx)("option",{value:"",children:"Select your city"}),Object.values(e).flat().map(e=>(0,t.jsx)("option",{value:e,children:e.replace("_"," ")},e))]})]}),(0,t.jsxs)("div",{className:"w-full max-w-md mb-4",children:[(0,t.jsx)("label",{className:"block mb-1 font-medium text-gray-700",children:"Region:"}),(0,t.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"w-full p-2 border border-gray-300 rounded bg-white text-gray-800 mb-2",children:[(0,t.jsx)("option",{value:"",children:"Select a region"}),Object.keys(e).map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),""===i&&(0,t.jsx)("p",{className:"text-red-600 text-sm mb-1",children:"Please choose a region."}),j.length>0&&(0,t.jsxs)("select",{onChange:e=>y(e.target.value),className:"w-full p-2 border border-gray-300 rounded bg-white text-gray-800",children:[(0,t.jsx)("option",{value:"",children:"Select a city"}),j.map(e=>(0,t.jsx)("option",{value:e,children:e.replace("_"," ")},e))]})]}),n.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 max-w-md mb-4",children:n.map(e=>(0,t.jsxs)("div",{className:`flex items-center ${e===r?"bg-yellow-100 border-yellow-400":"bg-blue-50 border-blue-300"} border px-3 py-1 rounded-full text-sm text-gray-800`,children:[e.replace("_"," "),(0,t.jsx)("button",{onClick:()=>{o(t=>t.filter(t=>t!==e))},className:"ml-2 text-blue-700 hover:text-red-500 font-bold",children:"Ã—"})]},e))}),(0,t.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,t.jsx)("button",{onClick:p,disabled:m,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 transition-colors",children:m?"Calculating...":"Find Overlap"}),(0,t.jsx)("button",{onClick:()=>{s(""),c(""),o([]),u(null),h(null)},className:"bg-gray-200 text-gray-800 px-6 py-2 rounded hover:bg-gray-300 transition-colors",children:"Clear"})]}),b&&(0,t.jsx)("p",{className:"text-red-600 mb-4 text-sm",children:b}),d&&(0,t.jsxs)("div",{className:"w-full max-w-md bg-white border shadow-sm rounded p-4 text-gray-800",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-3 text-center text-blue-700",children:"â° Common Working Hours (Local Times)"}),d.map((e,l)=>(0,t.jsxs)("div",{className:"flex justify-between border-b border-gray-200 py-2 last:border-0",children:[(0,t.jsx)("span",{className:"font-medium",children:e.city}),(0,t.jsxs)("span",{className:"text-blue-600",children:[e.start," â†’ ",e.end]})]},l))]})]})}e.s(["default",()=>a,"dynamic",0,"force-dynamic"])}]);